<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap-puy Prototype</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        <header>
            <h1>Tap-puy </h1>
        </header>

        <main class="swipe-container">
            <!-- スワイプカード -->
            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item1.png" alt="チェーンネックレス" class="clothing-image">
                        <div class="clothing-brand">Verse & Co.</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>チェーンネックレス</h2>
                    <p>シンプルで万能 | ¥2,970</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item2.png" alt="コインネックレス" class="clothing-image">
                        <div class="clothing-brand">Soluna</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>コインネックレス</h2>
                    <p>ヴィンテージ感 | ¥2,200</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item3.png" alt="パール調モチーフネックレス" class="clothing-image">
                        <div class="clothing-brand">Miel et Fleur</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>パール調モチーフネックレス</h2>
                    <p>上品でエレガント | ¥2,189</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item4.png" alt="メタルボールネックレス" class="clothing-image">
                        <div class="clothing-brand">Rin.</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>メタルボールネックレス</h2>
                    <p>モードな雰囲気 | ¥2,980</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item5.png" alt="ハートモチーフネックレス" class="clothing-image">
                        <div class="clothing-brand">Petit Stella</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>ハートモチーフネックレス</h2>
                    <p>可愛らしいデザイン | ¥328〜</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item6.png" alt="フープピアス" class="clothing-image">
                        <div class="clothing-brand">Chord</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>フープピアス</h2>
                    <p>オンオフ問わず使える | ¥3,850</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item7.png" alt="ドロップモチーフピアス" class="clothing-image">
                        <div class="clothing-brand">Pearly Dew</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>ドロップモチーフピアス</h2>
                    <p>女性らしい揺れるデザイン | ¥2,090</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item8.png" alt="ビジューイヤリング" class="clothing-image">
                        <div class="clothing-brand">Twinkle Closet</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>ビジューイヤリング</h2>
                    <p>キラキラで華やか | ¥3,190</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item9.png" alt="フラワーモチーフピアス" class="clothing-image">
                        <div class="clothing-brand">éclatant</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>フラワーモチーフピアス</h2>
                    <p>立体的で顔周りを明るく | ¥2,090</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item10.png" alt="メタル変形イヤリング" class="clothing-image">
                        <div class="clothing-brand">Sway</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>メタル変形イヤリング</h2>
                    <p>こなれた雰囲気 | ¥2,640</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item11.png" alt="セットリング" class="clothing-image">
                        <div class="clothing-brand">Mingle</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>セットリング</h2>
                    <p>重ね付けで楽しむ | ¥330〜</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item12.png" alt="ウェーブデザインリング" class="clothing-image">
                        <div class="clothing-brand">Fluo</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>ウェーブデザインリング</h2>
                    <p>滑らかなウェーブが美しい | ¥3,300</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item13.png" alt="チェーンモチーフリング" class="clothing-image">
                        <div class="clothing-brand">Junction</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>チェーンモチーフリング</h2>
                    <p>メンズライクで華奢 | ¥4,400</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item14.png" alt="オープンリング" class="clothing-image">
                        <div class="clothing-brand">Void</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>オープンリング</h2>
                    <p>サイズ調整可能 | ¥2,980</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item15.png" alt="天然石風リング" class="clothing-image">
                        <div class="clothing-brand">Aria</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>天然石風リング</h2>
                    <p>透明感のある涼しげ | ¥2,310</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item16.png" alt="チェーンブレスレット" class="clothing-image">
                        <div class="clothing-brand">Unit Lab.</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>チェーンブレスレット</h2>
                    <p>ユニセックスで使える | ¥2,970</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item17.png" alt="マンテルブレスレット" class="clothing-image">
                        <div class="clothing-brand">Locke</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>マンテルブレスレット</h2>
                    <p>トレンドの留め具 | ¥2,995</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item18.png" alt="バングル" class="clothing-image">
                        <div class="clothing-brand">Mellow</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>バングル</h2>
                    <p>マーブル模様でこなれ感 | ¥2,200</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item19.png" alt="パールブレスレット" class="clothing-image">
                        <div class="clothing-brand">Luna Drop</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>パールブレスレット</h2>
                    <p>小粒パールで上品 | ¥448</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item20.png" alt="ビーズブレスレット" class="clothing-image">
                        <div class="clothing-brand">Crafty</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>ビーズブレスレット</h2>
                    <p>カラフルで可愛い | ¥2,500</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item21.png" alt="イヤーカフ" class="clothing-image">
                        <div class="clothing-brand">Ohr</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>イヤーカフ</h2>
                    <p>ピアスホール不要 | ¥3,850</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item22.png" alt="セットイヤーカフ" class="clothing-image">
                        <div class="clothing-brand">Layered Me</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>セットイヤーカフ</h2>
                    <p>組み合わせを楽しめる | ¥2,090</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item23.png" alt="アンクレット" class="clothing-image">
                        <div class="clothing-brand">Bare</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>アンクレット</h2>
                    <p>夏の足元をセクシーに | ¥299〜</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item24.png" alt="マグネットピアス" class="clothing-image">
                        <div class="clothing-brand">Click</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>マグネットピアス</h2>
                    <p>挟むだけで簡単 | ¥365</p>
                </div>
            </div>

            <div class="swipe-card">
                <div class="card-video">
                    <div class="clothing-item">
                        <img src="item25.png" alt="ブローチ" class="clothing-image">
                        <div class="clothing-brand">Felice</div>
                    </div>
                </div>
                <div class="card-info">
                    <h2>ブローチ</h2>
                    <p>パールとビジューで華やか | ¥2,750</p>
                </div>
            </div>

            <!-- プレースホルダー（すべてのカードがなくなったときに表示） -->
            <div class="card-placeholder">
                <div class="game-over">
                    <h2>🛍️ ショッピング終了！</h2>
                    <p>すべてのアイテムを見終わりました。</p>
                    <p>お疲れ様でした！</p>
                </div>
            </div>

            <!-- LIKE/NOPE インジケーター -->
            <div class="status-indicator like">👍 LIKE</div>
            <div class="status-indicator nope">👎 NOPE</div>
            <div class="status-indicator cart">🛒 ADDED</div>
        </main>

        <footer class="actions">
            <button id="dislike" class="action-button dislike-btn" title="好みではない">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H6.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                </svg>
            </button>
            <button id="details" class="action-button details-btn" title="商品詳細を見る">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                </svg>
            </button>
            <button id="cart-btn" class="action-button cart-btn" title="カートを見る">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <span id="cart-badge" class="cart-badge">0</span>
            </button>
            <button id="like" class="action-button like-btn" title="好み（パーソナライズ用）">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
            </button>
        </footer>
    </div>

    <!-- 商品詳細モーダル -->
    <div id="product-details-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">商品詳細</h2>
                <button class="close-button" id="close-modal-details">&times;</button>
            </div>
            <div class="modal-body">
                <div class="product-image-container">
                    <img id="modal-image" src="" alt="" class="modal-product-image">
                </div>
                <div class="product-details">
                    <div class="product-brand" id="modal-brand">ブランド名</div>
                    <h3 id="modal-product-name">商品名</h3>
                    <div class="product-price" id="modal-price">価格</div>
                    
                    <div class="product-description">
                        <h4>商品説明</h4>
                        <p id="modal-description">商品の詳細説明が入ります。</p>
                    </div>
                    
                    <div class="product-features">
                        <h4>特徴</h4>
                        <ul id="modal-features">
                            <li>特徴1</li>
                            <li>特徴2</li>
                            <li>特徴3</li>
                        </ul>
                    </div>
                    
                    <div class="product-styling">
                        <h4>スタイリング提案</h4>
                        <p id="modal-styling">スタイリングのアドバイスが入ります。</p>
                    </div>
                    
                    <div class="product-care">
                        <h4>お手入れ方法</h4>
                        <p id="modal-care">お手入れの方法が入ります。</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-action-button favorite-button" id="modal-add-to-cart" title="カートに追加">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                    カートに追加
                </button>
                <button class="modal-action-button buy-button" id="modal-buy" title="購入ページへ移動">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
                    購入ページへ
                </button>
            </div>
        </div>
    </div>

    <!-- カートモーダル -->
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ショッピングカート</h2>
                <button class="close-button" id="close-modal-cart">&times;</button>
            </div>
            <div class="modal-body" id="cart-items-container">
                <!-- カート内商品がここに追加される -->
                <div class="cart-empty-message">
                    <p>カートは空です。</p>
                </div>
            </div>
            <div class="modal-footer cart-footer">
                <div class="cart-total">
                    <span>合計:</span>
                    <span id="cart-total-price">¥0</span>
                </div>
                <button class="modal-action-button buy-button" id="checkout-button">
                    レジに進む
                </button>
            </div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const swipeContainer = document.querySelector('.swipe-container');
    const cards = document.querySelectorAll('.swipe-card');
    const placeholder = document.querySelector('.card-placeholder');
    const likeBtn = document.getElementById('like');
    const dislikeBtn = document.getElementById('dislike');
    const detailsBtn = document.getElementById('details');
    const cartBtn = document.getElementById('cart-btn');
    const likeIndicator = document.querySelector('.status-indicator.like');
    const nopeIndicator = document.querySelector('.status-indicator.nope');
    const cartIndicator = document.querySelector('.status-indicator.cart');
    const cartBadge = document.getElementById('cart-badge');
    
    // モーダル関連の要素
    const detailsModal = document.getElementById('product-details-modal');
    const cartModal = document.getElementById('cart-modal');
    const closeDetailsModal = document.getElementById('close-modal-details');
    const closeCartModal = document.getElementById('close-modal-cart');
    
    // 詳細モーダル内のボタン
    const modalAddToCart = document.getElementById('modal-add-to-cart');
    const modalBuy = document.getElementById('modal-buy');

    // カートモーダル内の要素
    const cartItemsContainer = document.getElementById('cart-items-container');
    const cartTotalPrice = document.getElementById('cart-total-price');
    const checkoutButton = document.getElementById('checkout-button');

    // カートの状態
    let cart = [];

    // 商品リンクの配列
    const productLinks = [
        'https://zozo.jp/shop/anown/goods/71833890/?did=118485290',
        'https://zozo.jp/shop/vannie-u/goods/62744390/?did=103778401',
        'https://www.junonline.jp/vis/product/accessory/necklace/BVZ13110',
        'https://www.rakuten.ne.jp/gold/ajiro/',
        'https://www.jewelry-queen-shop.com/product/n1125',
        'https://zozo.jp/shop/auntmaries/goods/56494794/?did=94042845',
        'https://item.rakuten.co.jp/cream-dot/e00315/',
        'https://www.palcloset.jp/display/item/OG24A-E01-E/?cl=01&b=lattice',
        'https://www.dot-st.com/mepercent/disp/CSfGoodsPage_001.jsp?ITEM_CD=992813',
        'https://sanpocreate.com/fs/sacsbar/p0890013e',
        'https://www.palcloset.jp/lattice/item/list/category_id/1577',
        'https://zozo.jp/shop/port/goods/53966589/?did=89796696',
        'https://zozo.jp/shop/lionheart/goods/53787723/?did=89399885',
        'https://zozo.jp/shop/garin/goods/71887375/?did=118600889',
        'https://sanpocreate.com/fs/sacsbar/dg350225r',
        'https://zozo.jp/shop/sibra/goods/65306354/?did=108342469',
        'https://zozo.jp/shop/ciite/goods/53704207/?did=89162985',
        'https://www.dot-st.com/lakole/disp/CSfGoodsPage_001.jsp?ITEM_CD=171694',
        'https://www.jewelry-queen-shop.com/product/v2132',
        'https://zozo.jp/shop/tone/goods/72914170/?did=120279822',
        'https://zozo.jp/shop/kucroissant/goods/53026848/?did=87438258',
        'https://www.dot-st.com/mepercent/disp/CSfGoodsPage_001.jsp?ITEM_CD=192415',
        'https://www.jewelry-queen-shop.com/c/c-002/c-011/v0258',
        'https://www.jewelry-queen-shop.com/c/c-002/c-008/v1585',
        'https://zozo.jp/shop/niana/goods/69871701/?did=115049537'
    ];

    // 全25商品の詳細データ（HTMLの順番と完全に一致）
    const productDetails = [
        { id: 1, name: "チェーンネックレス", brand: "Verse & Co.", price: 2970, shortDesc: "シンプルで万能", description: "上質な金属を使用したシンプルで洗練されたチェーンネックレス。", features: ["シンプルで万能", "高品質な金属素材", "アレルギー対応"], styling: "カジュアルからフォーマルまで幅広く対応。", care: "使用後は柔らかい布で乾拭きしてください。", material: "真鍮、ロジウムメッキ", size: "40-45cm" },
        { id: 2, name: "コインネックレス", brand: "Soluna", price: 2200, shortDesc: "ヴィンテージ感", description: "トレンドのコインモチーフが印象的なヴィンテージテイストのネックレス。", features: ["トレンドのコインモチーフ", "ヴィンテージ感", "アンティーク調"], styling: "シンプルなTシャツに合わせるとこなれた印象に。", care: "柔らかい布で汚れを拭き取ってください。", material: "合金", size: "45cm" },
        { id: 3, name: "パール調モチーフネックレス", brand: "Miel et Fleur", price: 2189, shortDesc: "上品でエレガント", description: "上品な光沢を持つパール調のネックレス。", features: ["エレガントなパール調", "女性らしい上品さ", "軽量"], styling: "ワンピースやブラウスとの相性が抜群。", care: "汗や化粧品に弱いため、使用後はすぐに拭き取ってください。", material: "合成パール", size: "42cm" },
        { id: 4, name: "メタルボールネックレス", brand: "Rin.", price: 2980, shortDesc: "モードな雰囲気", description: "立体的なメタルボールが印象的なモードなネックレス。", features: ["モードで個性的", "立体的なメタルボール", "存在感あり"], styling: "モノトーンスタイルとの相性が良い。", care: "金属部分は定期的に乾拭きしてください。", material: "ステンレススチール", size: "50cm" },
        { id: 5, name: "ハートモチーフネックレス", brand: "Petit Stella", price: 328, shortDesc: "可愛らしいデザイン", description: "キュートで愛らしいハートモチーフのネックレス。", features: ["可愛らしいハートモチーフ", "お手頃価格", "日常使いに最適"], styling: "カジュアルなスタイルに女性らしい可愛さをプラス。", care: "柔らかい布で拭き取り、湿気の少ない場所で保管してください。", material: "合金", size: "40cm" },
        { id: 6, name: "フープピアス", brand: "Chord", price: 3850, shortDesc: "オンオフ問わず使える", description: "シンプルながらも存在感のあるフープピアス。", features: ["オンオフ問わず使用可能", "シンプルで洗練されたデザイン", "軽量"], styling: "髪をアップにしたスタイルで特に映えます。", care: "使用後は清潔な布で拭き取ってください。", material: "14Kゴールドフィルド", size: "直径3cm" },
        { id: 7, name: "ドロップモチーフピアス", brand: "Pearly Dew", price: 2090, shortDesc: "女性らしい揺れるデザイン", description: "動くたびに美しく揺れるドロップモチーフのピアス。", features: ["女性らしい揺れるデザイン", "動きのある美しさ", "エレガント"], styling: "パーティーや特別な日のコーディネートにおすすめ。", care: "繊細なデザインのため、取り扱いには注意してください。", material: "真鍮、キュービックジルコニア", size: "全長4cm" },
        { id: 8, name: "ビジューイヤリング", brand: "Twinkle Closet", price: 3190, shortDesc: "キラキラで華やか", description: "キラキラと輝くビジューが華やかなイヤリング。", features: ["キラキラで華やか", "豪華で存在感あり", "パーティーシーンに最適"], styling: "ドレスアップスタイルやパーティーコーデに最適。", care: "ビジュー部分は繊細なため、優しく扱ってください。", material: "クリスタルガラス", size: "2.5cm x 2cm" },
        { id: 9, name: "フラワーモチーフピアス", brand: "éclatant", price: 2090, shortDesc: "立体的で顔周りを明るく", description: "立体的なフラワーモチーフが美しいピアス。", features: ["立体的なフラワーデザイン", "顔周りを明るく演出", "華やか"], styling: "春夏のコーディネートにぴったり。", care: "立体的なデザインのため、変形に注意してください。", material: "合金、エナメル", size: "直径1.8cm" },
        { id: 10, name: "メタル変形イヤリング", brand: "Sway", price: 2640, shortDesc: "こなれた雰囲気", description: "個性的な変形フォルムが印象的なメタルイヤリング。", features: ["こなれた雰囲気", "個性的な変形フォルム", "モード"], styling: "シンプルなコーディネートに合わせると一気にこなれた印象に。", care: "金属部分は定期的に乾拭きしてください。", material: "ステンレススチール", size: "3.5cm x 2cm" },
        { id: 11, name: "セットリング", brand: "Mingle", price: 330, shortDesc: "重ね付けで楽しむ", description: "複数のリングがセットになった重ね付け用リング。", features: ["重ね付けで楽しめる", "様々な組み合わせが可能", "お手頃価格"], styling: "自由度の高いスタイリングが可能。", care: "互いに傷つけないよう注意してください。", material: "合金", size: "フリーサイズ" },
        { id: 12, name: "ウェーブデザインリング", brand: "Fluo", price: 3300, shortDesc: "滑らかなウェーブが美しい", description: "流れるような美しいウェーブラインが特徴的なリング。", features: ["滑らかなウェーブデザイン", "指を美しく見せる", "上品で洗練"], styling: "単体で着けても美しく、重ね付けにも適しています。", care: "曲線部分に汚れがたまりやすいため、定期的に清掃してください。", material: "シルバー925", size: "幅8-12mm" },
        { id: 13, name: "チェーンモチーフリング", brand: "Junction", price: 4400, shortDesc: "メンズライクで華奢", description: "チェーンモチーフが印象的なユニセックスデザインのリング。", features: ["メンズライクで華奢", "クールで洗練", "ユニセックス"], styling: "カジュアルなスタイルにクールなアクセントを。", care: "チェーン部分は繊細なため、優しく扱ってください。", material: "シルバー925", size: "幅6mm" },
        { id: 14, name: "オープンリング", brand: "Void", price: 2980, shortDesc: "サイズ調整可能", description: "サイズ調整が可能なオープンデザインのリング。", features: ["サイズ調整可能", "フィット感の自由調整", "モダンで洗練"], styling: "様々な指に合わせて楽しめる。", care: "サイズ調整時は無理に力を加えないでください。", material: "真鍮", size: "11-17号" },
        { id: 15, name: "天然石風リング", brand: "Aria", price: 2310, shortDesc: "透明感のある涼しげ", description: "透明感のある美しい天然石風のリング。", features: ["透明感のある涼しげなデザイン", "クリアで美しい輝き", "上品"], styling: "夏のコーディネートに特に映えます。", care: "石の部分は傷つきやすいため、注意してください。", material: "クリスタルガラス", size: "石1cm x 0.8cm" },
        { id: 16, name: "チェーンブレスレット", brand: "Unit Lab.", price: 2970, shortDesc: "ユニセックスで使える", description: "シンプルで洗練されたユニセックスデザインのチェーンブレスレット。", features: ["ユニセックス", "シンプルで洗練", "高品質なチェーン"], styling: "男女問わず使えるデザイン。", care: "絡まないよう注意して保管してください。", material: "ステンレススチール316L", size: "18cm" },
        { id: 17, name: "マンテルブレスレット", brand: "Locke", price: 2995, shortDesc: "トレンドの留め具", description: "トレンドのマンテル（留め具）を使用したモダンなブレスレット。", features: ["トレンドのマンテル", "モダンで洗練", "着脱しやすい"], styling: "モダンなスタイルやミニマルなコーディネートに最適。", care: "留め具部分は繊細なため、優しく扱ってください。", material: "真鍮", size: "17cm" },
        { id: 18, name: "バングル", brand: "Mellow", price: 2200, shortDesc: "マーブル模様でこなれ感", description: "美しいマーブル模様が印象的なバングル。", features: ["マーブル模様", "自然な風合い", "軽量"], styling: "カジュアルなスタイルにこなれ感をプラス。", care: "柔らかい布で優しく拭き取ってください。", material: "アクリル樹脂", size: "内径6cm" },
        { id: 19, name: "パールブレスレット", brand: "Luna Drop", price: 448, shortDesc: "小粒パールで上品", description: "小粒のパールが連なった上品なブレスレット。", features: ["小粒パールで上品", "エレガント", "クラシカル"], styling: "フォーマルなスタイルやエレガントなコーディネートに最適。", care: "パールは汗や化粧品に弱いため、注意してください。", material: "合成パール", size: "17cm" },
        { id: 20, name: "ビーズブレスレット", brand: "Crafty", price: 2500, shortDesc: "カラフルで可愛い", description: "カラフルで可愛いビーズを使ったブレスレット。", features: ["カラフルで可愛い", "ポップで楽しい", "手作り感"], styling: "カジュアルなスタイルやポップなコーディネートに最適。", care: "衝撃に弱いため、取り扱いには注意してください。", material: "天然石ビーズ", size: "16cm" },
        { id: 21, name: "イヤーカフ", brand: "Ohr", price: 3850, shortDesc: "ピアスホール不要", description: "ピアスホールが不要で簡単に着けられるイヤーカフ。", features: ["ピアスホール不要", "簡単着用", "おしゃれ"], styling: "ピアスと重ね付けしたり、片耳だけに着けたり。", care: "使用後は消毒用エタノールで清拭してください。", material: "真鍮", size: "2.5cm" },
        { id: 22, name: "セットイヤーカフ", brand: "Layered Me", price: 2090, shortDesc: "組み合わせを楽しめる", description: "複数のデザインがセットになったイヤーカフ。", features: ["組み合わせを楽しめる", "複数のデザイン", "レイヤードスタイル"], styling: "自由度の高いスタイリングが可能。", care: "互いに傷つけないよう注意してください。", material: "合金", size: "3個セット" },
        { id: 23, name: "アンクレット", brand: "Bare", price: 299, shortDesc: "夏の足元をセクシーに", description: "夏の足元をセクシーに演出するアンクレット。", features: ["夏の足元をセクシーに", "さりげない輝き", "リゾート感"], styling: "サンダルやパンプスとの相性が抜群。", care: "使用後は必ず清拭し、清潔な状態を保ってください。", material: "合金", size: "22-25cm" },
        { id: 24, name: "マグネットピアス", brand: "Click", price: 365, shortDesc: "挟むだけで簡単", description: "磁石で挟むだけで簡単に着けられるマグネットピアス。", features: ["挟むだけで簡単", "ピアスホール不要", "手軽"], styling: "気軽にピアススタイルを楽しめます。", care: "磁石が強いため、長時間の着用は避けてください。", material: "マグネット", size: "直径8mm" },
        { id: 25, name: "ブローチ", brand: "Felice", price: 2750, shortDesc: "パールとビジューで華やか", description: "パールとビジューが美しく組み合わされた華やかなブローチ。", features: ["パールとビジュー", "華やか", "上品で洗練"], styling: "ジャケットやワンピースのアクセントに最適。", care: "繊細なため、取り扱いには注意してください。", material: "合成パール、クリスタルガラス", size: "3cm x 4cm" }
    ];

    let activeCard = cards[cards.length - 1];
    let isDragging = false;
    let startX = 0;
    let startY = 0;
    let currentX = 0;
    let currentY = 0;

    // 初期状態でプレースホルダーを非表示に
    placeholder.style.display = 'none';

    function initCard(card) {
        if (!card) return;
        card.addEventListener('mousedown', startDrag);
        card.addEventListener('touchstart', startDrag, { passive: false });
        card.addEventListener('dragstart', (e) => e.preventDefault());
    }

    function startDrag(e) {
        if (!activeCard) return;
        e.preventDefault();
        isDragging = true;
        activeCard.classList.add('dragging');
        if (e.type === 'mousedown') {
            startX = e.clientX;
            startY = e.clientY;
        } else if (e.type === 'touchstart') {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
        }
        currentX = startX;
        currentY = startY;
        document.addEventListener('mousemove', onDrag);
        document.addEventListener('touchmove', onDrag, { passive: false });
        document.addEventListener('mouseup', endDrag);
        document.addEventListener('touchend', endDrag);
    }

    function onDrag(e) {
        if (!isDragging || !activeCard) return;
        e.preventDefault();
        if (e.type === 'mousemove') {
            currentX = e.clientX;
            currentY = e.clientY;
        } else if (e.type === 'touchmove') {
            currentX = e.touches[0].clientX;
            currentY = e.touches[0].clientY;
        }
        const deltaX = currentX - startX;
        const deltaY = currentY - startY;
        const rotation = deltaX * 0.1;
        activeCard.style.transform = `translate(${deltaX}px, ${deltaY}px) rotate(${rotation}deg)`;
        
        // スワイプ方向に応じてインジケーターを表示
        const isHorizontalDominant = Math.abs(deltaX) > Math.abs(deltaY);

        if (isHorizontalDominant) {
            const opacity = Math.min(Math.abs(deltaX) / (swipeContainer.clientWidth / 3), 1);
            if (deltaX > 0) { // Right
                likeIndicator.style.opacity = opacity;
                nopeIndicator.style.opacity = 0;
            } else { // Left
                nopeIndicator.style.opacity = opacity;
                likeIndicator.style.opacity = 0;
            }
            cartIndicator.style.opacity = 0;
        } else { // Vertical swipe
            const opacity = Math.min(Math.abs(deltaY) / (swipeContainer.clientHeight / 3), 1);
            if (deltaY < 0) { // Up
                cartIndicator.style.opacity = opacity;
            }
            likeIndicator.style.opacity = 0;
            nopeIndicator.style.opacity = 0;
        }
    }

    function endDrag() {
        if (!isDragging || !activeCard) return;
        isDragging = false;
        activeCard.classList.remove('dragging');
        
        const deltaX = currentX - startX;
        const deltaY = currentY - startY;

        // スワイプ判定のしきい値を設定
        const horizontalThreshold = swipeContainer.clientWidth / 4.5;
        const verticalThreshold = swipeContainer.clientHeight / 5;
        
        const isHorizontalDominant = Math.abs(deltaX) > Math.abs(deltaY) * 1.2;
        const isVerticalDominant = Math.abs(deltaY) > Math.abs(deltaX) * 1.2;

        if (isVerticalDominant && deltaY < -verticalThreshold) {
            swipeCard('up');
        } else if (isHorizontalDominant) {
            if (deltaX > horizontalThreshold) {
                swipeCard('right');
            } else if (deltaX < -horizontalThreshold) {
                swipeCard('left');
            } else {
                resetCard();
            }
        } else {
            resetCard();
        }

        // 全てのインジケーターを非表示に
        likeIndicator.style.opacity = 0;
        nopeIndicator.style.opacity = 0;
        cartIndicator.style.opacity = 0;

        document.removeEventListener('mousemove', onDrag);
        document.removeEventListener('touchmove', onDrag);
        document.removeEventListener('mouseup', endDrag);
        document.removeEventListener('touchend', endDrag);
    }

    function resetCard() {
        if (!activeCard) return;
        activeCard.style.transition = 'transform 0.3s ease-out';
        activeCard.style.transform = '';
        setTimeout(() => {
            if (activeCard) activeCard.style.transition = '';
        }, 300);
    }

    function swipeCard(direction) {
        if (!activeCard) return;

        let endX = 0, endY = 0, rotation = 0;
        
        switch(direction) {
            case 'right':
                endX = swipeContainer.clientWidth + 100;
                rotation = 30;
                break;
            case 'left':
                endX = -swipeContainer.clientWidth - 100;
                rotation = -30;
                break;
            case 'up':
                endY = -swipeContainer.clientHeight;
                break;
        }

        activeCard.style.transition = 'transform 0.4s ease-out, opacity 0.4s ease-out';
        activeCard.style.transform = `translate(${endX}px, ${endY}px) rotate(${rotation}deg)`;
        activeCard.style.opacity = '0';
        const swipedCard = activeCard;
        const itemName = swipedCard.querySelector('h2').textContent;
        
        if (direction === 'right') {
            console.log(`👍 ${itemName}を「好み」として登録しました。（パーソナライズ用）`);
            // カートには追加しない
        } else if (direction === 'up') {
            console.log(`🛒 ${itemName}をカートに追加しました！`);
            addToCart();
        } else { // 'left'
            console.log(`👎 ${itemName}をスキップしました。`);
        }
        setTimeout(() => {
            swipedCard.remove();
            if (document.querySelectorAll('.swipe-card').length === 0) {
                placeholder.style.display = 'flex';
            }
        }, 400);
        const nextCard = swipedCard.previousElementSibling;
        if (nextCard && nextCard.classList.contains('swipe-card')) {
            activeCard = nextCard;
            initCard(activeCard);
        } else {
            activeCard = null;
        }
    }

    function getCurrentCardIndex() {
        if (!activeCard) return -1;
        return Array.from(cards).indexOf(activeCard);
    }

    function openProductDetails() {
        if (!activeCard) return;
        const currentIndex = getCurrentCardIndex();
        if (currentIndex < 0 || currentIndex >= productDetails.length) return;
        const product = productDetails[currentIndex];
        const currentImage = activeCard.querySelector('.clothing-image');
        document.getElementById('modal-title').textContent = `${product.name} - 商品詳細`;
        document.getElementById('modal-image').src = currentImage.src;
        document.getElementById('modal-image').alt = currentImage.alt;
        document.getElementById('modal-brand').textContent = product.brand;
        document.getElementById('modal-product-name').textContent = product.name;
        document.getElementById('modal-price').textContent = `¥${product.price.toLocaleString()}`;
        document.getElementById('modal-description').textContent = product.description;
        document.getElementById('modal-styling').textContent = product.styling;
        document.getElementById('modal-care').textContent = product.care;
        const featuresList = document.getElementById('modal-features');
        featuresList.innerHTML = '';
        product.features.forEach(feature => {
            const li = document.createElement('li');
            li.textContent = feature;
            featuresList.appendChild(li);
        });
        detailsModal.style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function closeModal(modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    function addToCart() {
        const currentIndex = getCurrentCardIndex();
        if (currentIndex < 0 || currentIndex >= productDetails.length) return;
        const product = productDetails[currentIndex];
        const existingItem = cart.find(item => item.id === product.id);
        if (existingItem) {
            existingItem.quantity++;
        } else {
            cart.push({ ...product, quantity: 1, image: activeCard.querySelector('.clothing-image').src });
        }
        updateCartUI();
    }
    
    function updateCartUI() {
        updateCartBadge();
        renderCartItems();
        updateCartTotal();
    }

    function updateCartBadge() {
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartBadge.textContent = totalItems;
        if (totalItems > 0) {
            cartBadge.classList.add('visible');
        } else {
            cartBadge.classList.remove('visible');
        }
    }

    function renderCartItems() {
        if (cart.length === 0) {
            cartItemsContainer.innerHTML = '<div class="cart-empty-message"><p>カートは空です。</p></div>';
            return;
        }
        cartItemsContainer.innerHTML = '';
        cart.forEach(item => {
            const cartItemEl = document.createElement('div');
            cartItemEl.className = 'cart-item';
            cartItemEl.innerHTML = `
                <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                <div class="cart-item-details">
                    <h4 class="cart-item-name">${item.name}</h4>
                    <p class="cart-item-price">¥${item.price.toLocaleString()}</p>
                </div>
                <div class="cart-item-actions">
                    <div class="quantity-control">
                        <button class="quantity-btn" data-id="${item.id}" data-action="decrease">-</button>
                        <span class="item-quantity">${item.quantity}</span>
                        <button class="quantity-btn" data-id="${item.id}" data-action="increase">+</button>
                    </div>
                    <button class="remove-item-btn" data-id="${item.id}">×</button>
                </div>
            `;
            cartItemsContainer.appendChild(cartItemEl);
        });
    }

    function updateCartTotal() {
        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        cartTotalPrice.textContent = `¥${total.toLocaleString()}`;
    }

    function handleCartAction(e) {
        const target = e.target;
        if (!target.dataset.id) return;
        const itemId = parseInt(target.dataset.id);
        if (target.classList.contains('quantity-btn')) {
            const action = target.dataset.action;
            const item = cart.find(i => i.id === itemId);
            if (action === 'increase') {
                item.quantity++;
            } else if (action === 'decrease') {
                item.quantity--;
                if (item.quantity === 0) {
                    cart = cart.filter(i => i.id !== itemId);
                }
            }
        } else if (target.classList.contains('remove-item-btn')) {
            cart = cart.filter(i => i.id !== itemId);
        }
        updateCartUI();
    }

    likeBtn.addEventListener('click', () => {
        if (!activeCard) return;
        likeIndicator.style.transition = 'opacity 0.3s ease-out';
        likeIndicator.style.opacity = 1;
        swipeCard('right');
        setTimeout(() => {
            likeIndicator.style.opacity = 0;
            likeIndicator.style.transition = '';
        }, 400);
    });

    dislikeBtn.addEventListener('click', () => {
        if (!activeCard) return;
        nopeIndicator.style.transition = 'opacity 0.3s ease-out';
        nopeIndicator.style.opacity = 1;
        swipeCard('left');
        setTimeout(() => {
            nopeIndicator.style.opacity = 0;
            nopeIndicator.style.transition = '';
        }, 400);
    });

    detailsBtn.addEventListener('click', openProductDetails);
    
    cartBtn.addEventListener('click', () => {
        cartModal.style.display = 'block';
        document.body.style.overflow = 'hidden';
    });

    closeDetailsModal.addEventListener('click', () => closeModal(detailsModal));
    closeCartModal.addEventListener('click', () => closeModal(cartModal));

    modalAddToCart.addEventListener('click', () => {
        addToCart();
        alert('カートに追加しました！');
    });

    modalBuy.addEventListener('click', () => {
        const currentIndex = getCurrentCardIndex();
        if (currentIndex >= 0 && currentIndex < productLinks.length) {
            window.open(productLinks[currentIndex], '_blank');
        }
    });
    
    cartItemsContainer.addEventListener('click', handleCartAction);

    checkoutButton.addEventListener('click', () => {
        if(cart.length > 0) {
            alert('レジに進みます。決済ページは未実装です。');
            cart = [];
            updateCartUI();
            closeModal(cartModal);
        } else {
            alert('カートが空です。');
        }
    });

    window.addEventListener('click', (e) => {
        if (e.target === detailsModal) closeModal(detailsModal);
        if (e.target === cartModal) closeModal(cartModal);
    });

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            if (detailsModal.style.display === 'block') closeModal(detailsModal);
            if (cartModal.style.display === 'block') closeModal(cartModal);
        }
    });

    initCard(activeCard);
    updateCartBadge();
});
</script>
<style>
/* 基本設定 */
:root {
    --bg-color: #f0f2f5;
    --card-bg-color: #ffffff;
    --text-primary-color: #1c1e21;
    --text-secondary-color: #65676b;
    --accent-color-like: #22c55e;
    --accent-color-nope: #ef4444;
    --accent-color-details: #8b5cf6;
    --accent-color-favorite: #f43f5e;
    --accent-color-cart: #3b82f6;
}

body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-color);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

/* アプリコンテナ */
.app-container {
    width: 100%;
    max-width: 375px;
    height: 100%;
    max-height: 812px;
    background-color: var(--card-bg-color);
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

header {
    padding: 1rem;
    text-align: center;
    border-bottom: 1px solid var(--bg-color);
}

header h1 {
    font-size: 1.5rem;
    margin: 0;
    color: var(--text-primary-color);
}

/* スワイプコンテナ */
.swipe-container {
    flex-grow: 1;
    position: relative;
    padding: 10px;
}

/* スワイプカード */
.swipe-card {
    width: calc(100% - 20px);
    height: calc(100% - 20px);
    background-color: var(--card-bg-color);
    border-radius: 15px;
    position: absolute;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    cursor: grab;
    transition: transform 0.3s ease, opacity 0.3s ease;
    user-select: none;
    border: 1px solid #e0e0e0;
}

/* スワイプ中のスタイル */
.swipe-card.dragging {
    cursor: grabbing;
    transition: none;
}

.card-video {
    width: 100%;
    flex-grow: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 20px;
    box-sizing: border-box;
}

/* 洋服アイテムのスタイル */
.clothing-item {
    width: 100%;
    height: 100%;
    background-color: white;
    border: 2px solid #333;
    border-radius: 12px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.clothing-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

/* 画像が読み込まれない場合の代替表示 */
.clothing-image:not([src]),
.clothing-image[src=""] {
    width: 100%;
    height: 100%;
    background-color: #f8f9fa;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 4rem;
    color: #adb5bd;
}

.clothing-image:not([src])::before,
.clothing-image[src=""]:before {
    content: "📷";
}

.clothing-brand {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 0.8rem;
    font-weight: bold;
    color: var(--text-secondary-color);
    background-color: rgba(255, 255, 255, 0.9);
    padding: 4px 8px;
    border-radius: 4px;
    border: 1px solid #ddd;
    z-index: 2;
}

.card-info {
    padding: 1rem;
    background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
    color: white;
    position: absolute;
    bottom: 0;
    width: 100%;
    box-sizing: border-box;
}

.card-info h2 {
    margin: 0 0 0.25rem 0;
    font-size: 1.25rem;
}

.card-info p {
    margin: 0;
    font-size: 0.9rem;
    opacity: 0.9;
}

/* プレースホルダー（初期状態では非表示） */
.card-placeholder {
    display: none;
    justify-content: center;
    align-items: center;
    height: 100%;
    color: var(--text-secondary-color);
}

.game-over {
    text-align: center;
    padding: 2rem;
}

.game-over h2 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: var(--text-primary-color);
}

.game-over p {
    font-size: 1rem;
    margin: 0.5rem 0;
    line-height: 1.4;
}

/* カードがなくなったときにプレースホルダーを表示 */
.swipe-container:not(:has(.swipe-card)) .card-placeholder {
    display: flex;
}

/* LIKE/NOPE インジケーター */
.status-indicator {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2.5rem;
    font-weight: bold;
    color: white;
    opacity: 0;
    pointer-events: none;
    z-index: 10;
    padding: 15px 25px;
    border-radius: 15px;
    backdrop-filter: blur(10px);
}

.status-indicator.like {
    color: var(--accent-color-like);
    border: 4px solid var(--accent-color-like);
    background-color: rgba(34, 197, 94, 0.2);
}

.status-indicator.nope {
    color: var(--accent-color-nope);
    border: 4px solid var(--accent-color-nope);
    background-color: rgba(239, 68, 68, 0.2);
}

.status-indicator.cart {
    color: var(--accent-color-cart);
    border: 4px solid var(--accent-color-cart);
    background-color: rgba(59, 130, 246, 0.2);
}

/* 操作ボタンエリア */
.actions {
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    padding: 1rem;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

.action-button {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: 2px solid #e0e0e0;
    background-color: var(--card-bg-color);
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.3s ease;
    position: relative;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
    transform: scale(1.1) translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    border-color: #d0d0d0;
}

.action-button:active {
    transform: scale(0.95);
    transition: all 0.1s ease;
}

.action-button svg {
    width: 28px;
    height: 28px;
}

/* 各ボタンの個別スタイル - モノトーンベース */
.dislike-btn svg {
    color: var(--accent-color-nope);
}

.dislike-btn:hover {
    background-color: #fafafa;
}

.details-btn svg {
    color: var(--accent-color-details);
}

.details-btn:hover {
    background-color: #fafafa;
}

.cart-btn svg {
    color: var(--accent-color-cart);
}

.cart-btn:hover {
    background-color: #fafafa;
}

.like-btn svg {
    color: var(--accent-color-like);
}

.like-btn:hover {
    background-color: #fafafa;
}

/* カートバッジ */
.cart-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    background-color: var(--accent-color-favorite);
    color: white;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
    transform: scale(0);
    transition: transform 0.3s ease;
}

.cart-badge.visible {
    transform: scale(1);
}


/* ボタンのツールチップ効果 */
.action-button::after {
    content: attr(title);
    position: absolute;
    bottom: -40px;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.7rem;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.action-button:hover::after {
    opacity: 1;
}

/* モーダルスタイル */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(5px);
}

.modal-content {
    background-color: var(--card-bg-color);
    margin: 5% auto;
    padding: 0;
    border: none;
    border-radius: 20px;
    width: 90%;
    max-width: 500px;
    max-height: 80vh;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    animation: modalSlideIn 0.3s ease-out;
    display: flex;
    flex-direction: column;
}

@keyframes modalSlideIn {
    from {
        transform: translateY(50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid var(--bg-color);
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

.modal-header h2 {
    margin: 0;
    font-size: 1.25rem;
    color: var(--text-primary-color);
}

.close-button {
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: var(--text-secondary-color);
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background-color 0.2s ease;
}

.close-button:hover {
    background-color: rgba(0, 0, 0, 0.1);
}

.modal-body {
    padding: 0;
    overflow-y: auto;
    flex-grow: 1;
}

.product-image-container {
    width: 100%;
    height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 20px;
    box-sizing: border-box;
}

.modal-product-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: cover;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.product-details {
    padding: 1.5rem;
}

.product-brand {
    font-size: 0.9rem;
    color: var(--text-secondary-color);
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.product-details h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    color: var(--text-primary-color);
}

.product-price {
    font-size: 1.25rem;
    font-weight: bold;
    color: var(--accent-color-favorite);
    margin-bottom: 1.5rem;
}

.product-description,
.product-features,
.product-styling,
.product-care,
.product-material {
    margin-bottom: 1.5rem;
}

.product-details h4 {
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
    color: var(--text-primary-color);
    border-bottom: 2px solid var(--bg-color);
    padding-bottom: 0.25rem;
}

.product-details p {
    margin: 0;
    color: var(--text-secondary-color);
    line-height: 1.6;
}

.product-details ul {
    margin: 0;
    padding-left: 1.5rem;
    color: var(--text-secondary-color);
}

.product-details li {
    margin-bottom: 0.25rem;
}

/* 素材・仕様セクションの特別スタイル */
.product-material p {
    margin-bottom: 0.5rem;
}

.product-material strong {
    color: var(--text-primary-color);
    font-weight: 600;
}

.modal-footer {
    display: flex;
    gap: 0.5rem;
    padding: 1.5rem;
    border-top: 1px solid var(--bg-color);
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

.modal-action-button {
    flex: 1;
    padding: 0.75rem 0.5rem;
    border: none;
    border-radius: 25px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.3rem;
    transition: all 0.2s ease;
}

.favorite-button {
    background-color: var(--accent-color-favorite);
    color: white;
    box-shadow: 0 4px 15px rgba(244, 63, 94, 0.3);
}

.favorite-button:hover {
    background-color: #dc2626;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(244, 63, 94, 0.4);
}

.buy-button {
    background-color: var(--accent-color-details);
    color: white;
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
}

.buy-button:hover {
    background-color: #7c3aed;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
}

/* カートモーダルのスタイル */
.cart-empty-message {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--text-secondary-color);
}

.cart-item {
    display: flex;
    align-items: center;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--bg-color);
}

.cart-item-image {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 8px;
    margin-right: 1rem;
}

.cart-item-details {
    flex-grow: 1;
}

.cart-item-name {
    font-weight: bold;
    color: var(--text-primary-color);
    margin: 0 0 0.25rem;
}

.cart-item-price {
    color: var(--text-secondary-color);
    font-size: 0.9rem;
}

.cart-item-actions {
    display: flex;
    align-items: center;
}

.quantity-control {
    display: flex;
    align-items: center;
    margin-right: 1rem;
}

.quantity-btn {
    width: 24px;
    height: 24px;
    border: 1px solid #ccc;
    background-color: #fff;
    cursor: pointer;
}

.item-quantity {
    padding: 0 0.75rem;
    font-weight: bold;
}

.remove-item-btn {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--accent-color-nope);
    font-size: 1.25rem;
}

.cart-footer {
    flex-direction: column;
    align-items: stretch;
}

.cart-total {
    display: flex;
    justify-content: space-between;
    font-size: 1.2rem;
    font-weight: bold;
    margin-bottom: 1rem;
    color: var(--text-primary-color);
}


/* スクロールバーのカスタマイズ */
.modal-body::-webkit-scrollbar {
    width: 6px;
}

.modal-body::-webkit-scrollbar-track {
    background: var(--bg-color);
    border-radius: 3px;
}

.modal-body::-webkit-scrollbar-thumb {
    background: var(--text-secondary-color);
    border-radius: 3px;
}

.modal-body::-webkit-scrollbar-thumb:hover {
    background: var(--text-primary-color);
}

/* レスポンシブデザイン */
@media (max-width: 480px) {
    .modal-content {
        width: 95%;
        margin: 2% auto;
        max-height: 90vh;
    }
    
    .modal-header {
        padding: 1rem;
    }
    
    .modal-header h2 {
        font-size: 1.1rem;
    }
    
    .product-details {
        padding: 1rem;
    }
    
    .product-details h3 {
        font-size: 1.3rem;
    }
    
    .product-details h4 {
        font-size: 1rem;
    }
    
    .modal-footer {
        padding: 1rem;
    }
    
    .modal-action-button {
        font-size: 0.9rem;
        padding: 0.75rem;
    }
    
    .product-image-container {
        height: 150px;
        padding: 15px;
    }
    
    .action-button {
        width: 50px;
        height: 50px;
    }
    
    .action-button svg {
        width: 24px;
        height: 24px;
    }
    
    .actions {
        padding: 0.75rem;
    }
}

@media (max-width: 360px) {
    .modal-content {
        width: 98%;
        margin: 1% auto;
        max-height: 95vh;
    }
    
    .modal-header {
        padding: 0.75rem;
    }
    
    .product-details {
        padding: 0.75rem;
    }
    
    .modal-footer {
        padding: 0.75rem;
    }
    
    .modal-action-button {
        width: 100%;
    }
}

/* アニメーション効果 */
.modal-action-button:active {
    transform: translateY(0);
    transition: all 0.1s ease;
}

/* フォーカス状態 */
.close-button:focus,
.modal-action-button:focus,
.action-button:focus {
    outline: 2px solid var(--accent-color-details);
    outline-offset: 2px;
}

/* ダークモード対応の準備 */
@media (prefers-color-scheme: dark) {
    :root {
        --bg-color: #18191a;
        --card-bg-color: #242526;
        --text-primary-color: #e4e6ea;
        --text-secondary-color: #b0b3b8;
    }
}


</style>
</html>
